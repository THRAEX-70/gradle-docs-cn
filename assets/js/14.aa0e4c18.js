(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{211:function(e,r,t){"use strict";t.r(r);var a=t(0),n=Object(a.a)({},(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"page-title"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#page-title","aria-hidden":"true"}},[e._v("#")]),e._v(" "+e._s(e.$page.title))]),e._v(" "),t("blockquote",[t("p",[t("a",{attrs:{href:"https://docs.gradle.org/current/userguide/troubleshooting.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("原文链接"),t("OutboundLink")],1)])]),e._v(" "),t("p"),t("div",{staticClass:"table-of-contents"},[t("ul",[t("li",[t("a",{attrs:{href:"#对gradle安装进行故障排除"}},[e._v("对Gradle安装进行故障排除")]),t("ul",[t("li",[t("a",{attrs:{href:"#command-not-found-gradle"}},[e._v("Command not found: gradle")])]),t("li",[t("a",{attrs:{href:"#java-home-is-set-to-an-invalid-directory"}},[e._v("JAVA_HOME is set to an invalid directory")])]),t("li",[t("a",{attrs:{href:"#permission-denied"}},[e._v("Permission denied")])]),t("li",[t("a",{attrs:{href:"#其他安装失败"}},[e._v("其他安装失败")])])])]),t("li",[t("a",{attrs:{href:"#调试依赖项解析"}},[e._v("调试依赖项解析")])]),t("li",[t("a",{attrs:{href:"#对缓慢的gradle构建进行故障排除"}},[e._v("对缓慢的Gradle构建进行故障排除")])]),t("li",[t("a",{attrs:{href:"#调试构建逻辑"}},[e._v("调试构建逻辑")]),t("ul",[t("li",[t("a",{attrs:{href:"#将调试器附加到构建"}},[e._v("将调试器附加到构建")])]),t("li",[t("a",{attrs:{href:"#添加和更改日志记录"}},[e._v("添加和更改日志记录")])]),t("li",[t("a",{attrs:{href:"#应该在up-to-date执行的任务"}},[e._v("应该在UP-TO-DATE执行的任务")])])])]),t("li",[t("a",{attrs:{href:"#调试ide集成"}},[e._v("调试IDE集成")]),t("ul",[t("li",[t("a",{attrs:{href:"#refreshing-intellij-idea"}},[e._v("Refreshing IntelliJ IDEA")])]),t("li",[t("a",{attrs:{href:"#refreshing-eclipse-using-buildship"}},[e._v("Refreshing Eclipse (using Buildship)")])])])]),t("li",[t("a",{attrs:{href:"#获得更多帮助"}},[e._v("获得更多帮助")])])])]),t("p"),e._v(" "),t("p",[e._v("以下是常见问题的集合以及解决这些问题的建议。您可以获取其他提示，并搜索"),t("a",{attrs:{href:"https://discuss.gradle.org/c/help-discuss",target:"_blank",rel:"noopener noreferrer"}},[e._v("Gradle forums"),t("OutboundLink")],1),e._v("和"),t("a",{attrs:{href:"https://stackoverflow.com/questions/tagged/gradle",target:"_blank",rel:"noopener noreferrer"}},[e._v("StackOverflow #gradle"),t("OutboundLink")],1),e._v("答案以及来自"),t("a",{attrs:{href:"https://gradle.org/help/",target:"_blank",rel:"noopener noreferrer"}},[e._v("help.gradle.org"),t("OutboundLink")],1),e._v("的Gradle文档。")]),e._v(" "),t("h2",{attrs:{id:"对gradle安装进行故障排除"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#对gradle安装进行故障排除","aria-hidden":"true"}},[e._v("#")]),e._v(" 对Gradle安装进行故障排除")]),e._v(" "),t("p",[e._v("如果您按照"),t("a",{attrs:{href:"/contents/02-user-manual/02-installing-gradle"}},[e._v("安装说明")]),e._v("进行操作，但无法执行Gradle构建，则以下一些提示可能会有所帮助。")]),e._v(" "),t("p",[e._v("如果在调用"),t("a",{attrs:{href:"https://docs.gradle.org/current/userguide/gradle_wrapper.html#gradle_wrapper",target:"_blank",rel:"noopener noreferrer"}},[e._v("Gradle Wrapper"),t("OutboundLink")],1),e._v("之外安装了Gradle，则可以通过在终端中运行"),t("code",[e._v("gradle --version")]),e._v("来检查Gradle的安装。")]),e._v(" "),t("p",[e._v("您应该会看到以下内容：")]),e._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("div",{staticClass:"highlight-lines"},[t("div",{staticClass:"highlighted"},[e._v(" ")]),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br")]),t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("❯ gradle --version\n\n-----------------------------------------------------------\nGradle "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("4.6")]),e._v("\n------------------------------------------------------------\n\nBuild time:   "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("2018")]),e._v("-02-21 "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("15")]),e._v(":28:42 UTC\nRevision:     819e0059da49f469d3e9b2896dc4e72537c4847d\n\nGroovy:       "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("2.4")]),e._v(".12\nAnt:          Apache Ant"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("TM"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" version "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1.9")]),e._v(".9 compiled on February "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("2017")]),e._v("\nJVM:          "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1.8")]),e._v(".0_151 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("Oracle Corporation "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("25.151")]),e._v("-b12"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\nOS:           Mac OS X "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("10.13")]),e._v(".3 x86_64\n")])])]),t("p",[e._v("如果没有，您可能会看到一些其他的东西。")]),e._v(" "),t("h3",{attrs:{id:"command-not-found-gradle"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#command-not-found-gradle","aria-hidden":"true"}},[e._v("#")]),e._v(" Command not found: gradle")]),e._v(" "),t("p",[e._v("如果提示“command not found: gradle”，则需要确保Gradle已正确添加到"),t("code",[e._v("PATH")]),e._v("中。")]),e._v(" "),t("h3",{attrs:{id:"java-home-is-set-to-an-invalid-directory"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#java-home-is-set-to-an-invalid-directory","aria-hidden":"true"}},[e._v("#")]),e._v(" JAVA_HOME is set to an invalid directory")]),e._v(" "),t("p",[e._v("如果您得到以下信息：")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("ERROR: JAVA_HOME is set to an invalid directory\n\nPlease set the JAVA_HOME variable in your environment to match the location of your Java installation.\n")])])]),t("p",[e._v("您需要确保"),t("a",{attrs:{href:"https://www.java.com/en/download/help/index_installing.xml",target:"_blank",rel:"noopener noreferrer"}},[e._v("正确安装"),t("OutboundLink")],1),e._v("了"),t("a",{attrs:{href:"https://jdk.java.net",target:"_blank",rel:"noopener noreferrer"}},[e._v("Java Development Kit"),t("OutboundLink")],1),e._v("版本8或更高版本，已设置"),t("code",[e._v("JAVA_HOME")]),e._v("环境变量，并将"),t("a",{attrs:{href:"https://www.java.com/en/download/help/path.xml",target:"_blank",rel:"noopener noreferrer"}},[e._v("Java添加到"),t("code",[e._v("PATH")]),t("OutboundLink")],1),e._v("中。")]),e._v(" "),t("h3",{attrs:{id:"permission-denied"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#permission-denied","aria-hidden":"true"}},[e._v("#")]),e._v(" Permission denied")]),e._v(" "),t("p",[e._v("如果提示“Permission denied”，则表示Gradle可能存在于正确的位置，但不可执行。您可以在 "),t("strong",[e._v("*nix-based")]),e._v(" 的系统上使用"),t("code",[e._v("chmod +x path/to/executable")]),e._v("来解决此问题。")]),e._v(" "),t("h3",{attrs:{id:"其他安装失败"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#其他安装失败","aria-hidden":"true"}},[e._v("#")]),e._v(" 其他安装失败")]),e._v(" "),t("p",[e._v("如果"),t("code",[e._v("gradle --version")]),e._v("工作正常，但是所有构建都因相同的错误而失败，则其中一个Gradle构建配置脚本可能存在问题。")]),e._v(" "),t("p",[e._v("您可以通过运行执行配置脚本但不执行Gradle任务的"),t("code",[e._v("gradle help")]),e._v("来验证问题是否出在Gradle脚本上。如果错误仍然存​​在，则构建配置存在问题。如果不是，则问题在于执行一个或多个请求的任务（Gradle首先执行配置脚本，然后执行构建步骤）。")]),e._v(" "),t("h2",{attrs:{id:"调试依赖项解析"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#调试依赖项解析","aria-hidden":"true"}},[e._v("#")]),e._v(" 调试依赖项解析")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://docs.gradle.org/current/userguide/troubleshooting_dependency_resolution.html#troubleshooting_dependency_resolution",target:"_blank",rel:"noopener noreferrer"}},[e._v("解决依赖性冲突问题"),t("OutboundLink")],1),e._v("中涵盖了常见的依赖性问题，例如解决版本冲突。")]),e._v(" "),t("p",[e._v("通过单击 "),t("em",[e._v("Dependencies view")]),e._v(" 并使用搜索功能，并指定解析原因，您可以看到依赖关系树，并查看哪些已解析的依赖关系版本与请求的版本有所不同。")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://docs.gradle.org/current/userguide/img/troubleshooting-dependency-management-build-scan.png",alt:"Figure 1. Debugging dependency conflicts with build scans"}})]),e._v(" "),t("p",[e._v("可以使用带有筛选条件的"),t("a",{attrs:{href:"https://scans.gradle.com/s/sample/troubleshooting-userguide/dependencies?expandAll&filters=WzFd&toggled=W1swXSxbMF0sWzAsMF0sWzAsMV1d&_ga=2.36167712.1480847771.1569235223-1279986108.1569235223",target:"_blank",rel:"noopener noreferrer"}},[e._v("实际构建扫描"),t("OutboundLink")],1),e._v("进行探索。")]),e._v(" "),t("h2",{attrs:{id:"对缓慢的gradle构建进行故障排除"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#对缓慢的gradle构建进行故障排除","aria-hidden":"true"}},[e._v("#")]),e._v(" 对缓慢的Gradle构建进行故障排除")]),e._v(" "),t("p",[e._v("有关构建性能问题（包括“同步速度慢”），请参阅"),t("a",{attrs:{href:"https://guides.gradle.org/performance/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Improving the Performance of Gradle Builds(《提高Gradle构建的性能指南》)"),t("OutboundLink")],1),e._v("。")]),e._v(" "),t("p",[e._v("Android开发人员应观看Android SDK工具团队的"),t("a",{attrs:{href:"https://youtu.be/7ll-rkLCtyk",target:"_blank",rel:"noopener noreferrer"}},[e._v("Speeding Up Your Android Gradle Builds(有关加速Android Gradle构建)"),t("OutboundLink")],1),e._v("的演示。 Android Studio用户指南还介绍了许多有关"),t("a",{attrs:{href:"https://developer.android.com/studio/build/optimize-your-build.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("优化构建速度"),t("OutboundLink")],1),e._v("的技巧。")]),e._v(" "),t("h2",{attrs:{id:"调试构建逻辑"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#调试构建逻辑","aria-hidden":"true"}},[e._v("#")]),e._v(" 调试构建逻辑")]),e._v(" "),t("h3",{attrs:{id:"将调试器附加到构建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#将调试器附加到构建","aria-hidden":"true"}},[e._v("#")]),e._v(" 将调试器附加到构建")]),e._v(" "),t("p",[e._v("您可以通过将"),t("code",[e._v("org.gradle.debug")]),e._v("属性设置为"),t("code",[e._v("true")]),e._v("，然后将远程调试器附加到端口"),t("code",[e._v("5005")]),e._v("，来设置断点并在Gradle构建自身中调试"),t("a",{attrs:{href:"https://docs.gradle.org/current/userguide/custom_plugins.html#sec:packaging_a_plugin",target:"_blank",rel:"noopener noreferrer"}},[e._v("buildSrc 和 standalone plugins"),t("OutboundLink")],1),e._v("。")]),e._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("❯ gradle "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("help")]),e._v(" -Dorg.gradle.debug"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("true\n")])])]),t("p",[e._v("此外，如果您采用了Kotlin DSL，则还可以自己调试构建脚本。")]),e._v(" "),t("p",[e._v("以下视频演示了如何使用IntelliJ IDEA调试示例构建。")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://docs.gradle.org/current/userguide/img/remote-debug-gradle.gif",alt:"Figure 2. Interactive debugging of a build script"}})]),e._v(" "),t("h3",{attrs:{id:"添加和更改日志记录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加和更改日志记录","aria-hidden":"true"}},[e._v("#")]),e._v(" 添加和更改日志记录")]),e._v(" "),t("p",[e._v("除了"),t("a",{attrs:{href:"https://docs.gradle.org/current/userguide/command_line_interface.html#sec:command_line_logging",target:"_blank",rel:"noopener noreferrer"}},[e._v("控制日志记录的详细程度"),t("OutboundLink")],1),e._v("之外，您还可以使用"),t("a",{attrs:{href:"https://docs.gradle.org/current/userguide/command_line_interface.html#sec:command_line_customizing_log_format",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("--console=verbose")]),e._v(" flag"),t("OutboundLink")],1),e._v("控制生命周期日志记录中任务结果的显示（例如“UP-TO-DATE”）。")]),e._v(" "),t("p",[e._v("您还可以通过注册各种事件侦听器，以自己的方式替换Gradle的许多日志记录。日志记录文档中说明了一个"),t("a",{attrs:{href:"https://docs.gradle.org/current/userguide/logging.html#sec:changing_what_gradle_logs",target:"_blank",rel:"noopener noreferrer"}},[e._v("自定义事件记录器"),t("OutboundLink")],1),e._v("的示例。您还可以"),t("a",{attrs:{href:"https://docs.gradle.org/current/userguide/logging.html#sec:external_tools",target:"_blank",rel:"noopener noreferrer"}},[e._v("从外部工具控制日志记录"),t("OutboundLink")],1),e._v("，使它们更加冗长，以便调试其执行。")]),e._v(" "),t("div",{staticClass:"tip custom-block"},[t("p",[e._v("Addi\n"),t("a",{attrs:{href:"https://docs.gradle.org/current/userguide/gradle_daemon.html#gradle_daemon",target:"_blank",rel:"noopener noreferrer"}},[e._v("Gradle Daemon"),t("OutboundLink")],1),e._v("的其他日志可以在"),t("code",[e._v("GRADLE_USER_HOME/daemon/<gradle-version>/")]),e._v("下找到。")])]),e._v(" "),t("h3",{attrs:{id:"应该在up-to-date执行的任务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#应该在up-to-date执行的任务","aria-hidden":"true"}},[e._v("#")]),e._v(" 应该在UP-TO-DATE执行的任务")]),e._v(" "),t("p",[t("code",[e._v("--info")]),e._v("日志说明了执行任务的原因，尽管构建扫描通过以一种可搜索的可视方式执行此操作，方法是转到“时间轴”视图，然后单击要检查的任务。")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://docs.gradle.org/current/userguide/img/troubleshooting-task-execution-build-scan.png",alt:"Figure 3. Debugging incremental build with a build scan"}})]),e._v(" "),t("p",[e._v("您可以从"),t("a",{attrs:{href:"https://docs.gradle.org/current/userguide/more_about_tasks.html#sec:task_outcomes",target:"_blank",rel:"noopener noreferrer"}},[e._v("此清单"),t("OutboundLink")],1),e._v("中了解任务结果的含义。")]),e._v(" "),t("h2",{attrs:{id:"调试ide集成"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#调试ide集成","aria-hidden":"true"}},[e._v("#")]),e._v(" 调试IDE集成")]),e._v(" "),t("p",[e._v("可以通过“refreshing”Gradle解决IDE中许多不常见的错误。另请参阅有关在"),t("a",{attrs:{href:"https://www.jetbrains.com/help/idea/gradle.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("IntelliJ IDEA"),t("OutboundLink")],1),e._v("和"),t("a",{attrs:{href:"http://www.vogella.com/tutorials/EclipseGradle/article.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Eclipse"),t("OutboundLink")],1),e._v("中使用Gradle的更多文档。")]),e._v(" "),t("h3",{attrs:{id:"refreshing-intellij-idea"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#refreshing-intellij-idea","aria-hidden":"true"}},[e._v("#")]),e._v(" Refreshing IntelliJ IDEA")]),e._v(" "),t("p",[t("strong",[e._v("注意：")]),e._v(" 这仅适用于"),t("a",{attrs:{href:"https://www.jetbrains.com/help/idea/gradle.html#link_gradle_project",target:"_blank",rel:"noopener noreferrer"}},[e._v("链接到IntelliJ"),t("OutboundLink")],1),e._v("的Gradle项目。")]),e._v(" "),t("p",[e._v("在主菜单中，转到"),t("code",[e._v("View")]),e._v(" > "),t("code",[e._v("Tool Windows")]),e._v(" > "),t("code",[e._v("Gradle")]),e._v("。然后单击 "),t("em",[e._v("Refresh")]),e._v(" 图标。")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://docs.gradle.org/current/userguide/img/troubleshooting-refresh-intellij.png",alt:"Figure 4. Refreshing a Gradle project in IntelliJ IDEA"}})]),e._v(" "),t("h3",{attrs:{id:"refreshing-eclipse-using-buildship"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#refreshing-eclipse-using-buildship","aria-hidden":"true"}},[e._v("#")]),e._v(" Refreshing Eclipse (using Buildship)")]),e._v(" "),t("p",[e._v("如果您正在为Eclipse IDE使用"),t("a",{attrs:{href:"https://projects.eclipse.org/projects/tools.buildship",target:"_blank",rel:"noopener noreferrer"}},[e._v("Buildship"),t("OutboundLink")],1),e._v("，您可以通过打开“Gradle Tasks”视图并单击“Refresh”图标来重新同步您的Gradle构建，或者通过在编辑Gradle脚本时从上下文菜单中执行"),t("code",[e._v("Gradle")]),e._v(" > "),t("code",[e._v("Refresh Gradle Project")]),e._v("命令来重新同步。")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://docs.gradle.org/current/userguide/img/troubleshooting-refresh-eclipse.png",alt:"Figure 5. Refreshing a Gradle project in Eclipse Buildship"}})]),e._v(" "),t("h2",{attrs:{id:"获得更多帮助"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获得更多帮助","aria-hidden":"true"}},[e._v("#")]),e._v(" 获得更多帮助")]),e._v(" "),t("p",[e._v("如果您在此处未找到解决问题的方法，请在"),t("a",{attrs:{href:"https://discuss.gradle.org/c/help-discuss",target:"_blank",rel:"noopener noreferrer"}},[e._v("帮助论坛"),t("OutboundLink")],1),e._v("上与Gradle社区联系，或使用"),t("a",{attrs:{href:"https://gradle.org/help/",target:"_blank",rel:"noopener noreferrer"}},[e._v("help.gradle.org"),t("OutboundLink")],1),e._v("搜索相关的开发人员资源。")]),e._v(" "),t("p",[e._v("如果您认为自己在Gradle中发现了错误，请在GitHub上"),t("a",{attrs:{href:"https://github.com/gradle/gradle/issues",target:"_blank",rel:"noopener noreferrer"}},[e._v("提交问题"),t("OutboundLink")],1),e._v("。")])])}),[],!1,null,null,null);r.default=n.exports}}]);