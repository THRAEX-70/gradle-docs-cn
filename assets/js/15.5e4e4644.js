(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{220:function(t,e,a){"use strict";a.r(e);var r=a(0),s=Object(r.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"page-title"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#page-title","aria-hidden":"true"}},[t._v("#")]),t._v(" "+t._s(t.$page.title))]),t._v(" "),a("blockquote",[a("p",[a("a",{attrs:{href:"https://docs.gradle.org/current/userguide/build_environment.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("原文链接"),a("OutboundLink")],1)])]),t._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#gradle属性"}},[t._v("Gradle属性")])]),a("li",[a("a",{attrs:{href:"#系统属性"}},[t._v("系统属性")])]),a("li",[a("a",{attrs:{href:"#环境变量"}},[t._v("环境变量")])]),a("li",[a("a",{attrs:{href:"#project属性"}},[t._v("Project属性")])]),a("li",[a("a",{attrs:{href:"#配置jvm内存"}},[t._v("配置JVM内存")])]),a("li",[a("a",{attrs:{href:"#使用project属性配置任务"}},[t._v("使用Project属性配置任务")])]),a("li",[a("a",{attrs:{href:"#通过http代理访问web"}},[t._v("通过HTTP代理访问web")]),a("ul",[a("li",[a("a",{attrs:{href:"#ntlm身份验证"}},[t._v("NTLM身份验证")])])])])])]),a("p"),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",[t._v("有兴趣配置构建缓存以加快构建速度吗？在此处注册以参加我们的"),a("a",{attrs:{href:"https://gradle.com/training/build-cache-deep-dive/?bid=docs-build-environment&_ga=2.98322847.1480847771.1569235223-1279986108.1569235223",target:"_blank",rel:"noopener noreferrer"}},[t._v("Build Cache"),a("OutboundLink")],1),t._v("培训课程，以了解顶级工程团队用来提高构建速度的一些技巧。")])]),t._v(" "),a("p",[t._v("Gradle提供了多种机制来配置Gradle本身和特定项目的行为。以下是使用这些机制的参考。")]),t._v(" "),a("p",[t._v("在配置Gradle行为时，您可以使用以下方法，以从高到低的优先级顺序列出（第一个优先级最高）：")]),t._v(" "),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"https://docs.gradle.org/current/userguide/command_line_interface.html#command_line_interface",target:"_blank",rel:"noopener noreferrer"}},[t._v("Command-line flags"),a("OutboundLink")],1),t._v("，例如"),a("code",[t._v("--build-cache")]),t._v("。这些优先于属性和环境变量。")])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#%E7%B3%BB%E7%BB%9F%E5%B1%9E%E6%80%A7"}},[t._v("System properties")]),t._v("，例如存储在"),a("code",[t._v("gradle.properties")]),t._v("文件中的"),a("code",[t._v("systemProp.http.proxyHost=somehost.org")]),t._v("。")])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#gradle%E5%B1%9E%E6%80%A7"}},[t._v("Gradle properties")]),t._v("，例如"),a("code",[t._v("org.gradle.caching=true")]),t._v("，通常存储在项目根目录或"),a("code",[t._v("GRADLE_USER_HOME")]),t._v("环境变量的"),a("code",[t._v("gradle.properties")]),t._v("文件中。")])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"}},[t._v("Environment variables")]),t._v("，例如执行Gradle的环境来源的"),a("code",[t._v("GRADLE_OPTS")]),t._v("。")])])]),t._v(" "),a("p",[t._v("除了配置构建环境之外，还可以使用"),a("a",{attrs:{href:"#project%E5%B1%9E%E6%80%A7"}},[t._v("Project properties")]),t._v("（例如"),a("code",[t._v("-PreleaseType=final")]),t._v("）配置给定的项目构建。")]),t._v(" "),a("h2",{attrs:{id:"gradle属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gradle属性","aria-hidden":"true"}},[t._v("#")]),t._v(" Gradle属性")]),t._v(" "),a("p",[t._v("Gradle提供了几个选项，可以轻松配置将用于执行构建的Java流程。虽然可以通过"),a("code",[t._v("GRADLE_OPTS")]),t._v("或"),a("code",[t._v("JAVA_OPTS")]),t._v("在本地环境中配置这些设置，但将某些设置（例如JVM内存配置和Java主目录位置("),a("strong",[t._v("JAVA_HOME")]),t._v(")）存储在版本控制中很有用，这样整个团队就可以在一致的环境中工作。")]),t._v(" "),a("p",[t._v("为构建建立一致的环境就像将这些设置放入"),a("code",[t._v("gradle.properties")]),t._v("文件一样简单。该配置按以下顺序应用（如果在多个位置配置了同一个选项，则取最后一个）：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("Gradle安装目录中的"),a("code",[t._v("gradle.properties")]),t._v("。")])]),t._v(" "),a("li",[a("p",[t._v("工程根目录中的"),a("code",[t._v("gradle.properties")]),t._v("。")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("GRADLE_USER_HOME")]),t._v("目录中的"),a("code",[t._v("gradle.properties")]),t._v("。")])]),t._v(" "),a("li",[a("p",[t._v("系统属性，例如在命令行上设置"),a("code",[t._v("-Dgradle.user.home")]),t._v("时。")])])]),t._v(" "),a("p",[t._v("以下属性可用于配置Gradle构建环境：")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[a("code",[t._v("org.gradle.caching=(true,false)")])])]),t._v(" "),a("p",[t._v("设置为"),a("code",[t._v("true")]),t._v("时，Gradle将在可能的情况下重用任何先前构建的任务输出，从而使构建速度更快。了解有关"),a("a",{attrs:{href:"https://docs.gradle.org/current/userguide/build_cache.html#build_cache",target:"_blank",rel:"noopener noreferrer"}},[t._v("使用构建缓存"),a("OutboundLink")],1),t._v("的更多信息。")])]),t._v(" "),a("li",[a("p",[a("strong",[a("code",[t._v("org.gradle.caching.debug=(true,false)")])])]),t._v(" "),a("p",[t._v("设置为"),a("code",[t._v("true")]),t._v("时，单个输入属性哈希值和每个任务的构建缓存键都记录在控制台上。了解有关"),a("a",{attrs:{href:"https://docs.gradle.org/current/userguide/build_cache.html#sec:task_output_caching",target:"_blank",rel:"noopener noreferrer"}},[t._v("任务输出缓存"),a("OutboundLink")],1),t._v("的更多信息。")])]),t._v(" "),a("li",[a("p",[a("strong",[a("code",[t._v("org.gradle.configureondemand=(true,false)")])])]),t._v(" "),a("p",[t._v("启用"),a("a",{attrs:{href:"https://docs.gradle.org/current/userguide/multi_project_builds.html#sec:configuration_on_demand",target:"_blank",rel:"noopener noreferrer"}},[t._v("按需孵化配置"),a("OutboundLink")],1),t._v("，Gradle将尝试仅配置必要的项目。")])]),t._v(" "),a("li",[a("p",[a("strong",[a("code",[t._v("org.gradle.console=(auto,plain,rich,verbose)")])])]),t._v(" "),a("p",[t._v("自定义控制台输出的颜色或详细程度。默认值取决于如何调用Gradle。有关其他详细信息，请参见"),a("a",{attrs:{href:"https://docs.gradle.org/current/userguide/command_line_interface.html#sec:command_line_logging",target:"_blank",rel:"noopener noreferrer"}},[t._v("命令行日志记录"),a("OutboundLink")],1),t._v("。")])]),t._v(" "),a("li",[a("p",[a("strong",[a("code",[t._v("org.gradle.daemon=(true,false)")])])]),t._v(" "),a("p",[t._v("设置为"),a("code",[t._v("true")]),t._v("时，将使用"),a("a",{attrs:{href:"/contents/03-running-gradle-builds/01-customizing-execution/02-the-gradle-daemon"}},[t._v("Gradle Daemon")]),t._v("运行构建。默认为"),a("code",[t._v("true")]),t._v("。")])]),t._v(" "),a("li",[a("p",[a("strong",[a("code",[t._v("org.gradle.daemon.idletimeout=(# of idle millis)")])])]),t._v(" "),a("p",[t._v("在指定的空闲毫秒数后，"),a("strong",[t._v("Gradle Daemon")]),t._v(" 将自行终止。默认值为"),a("code",[t._v("10800000")]),t._v("(3小时)。")])]),t._v(" "),a("li",[a("p",[a("strong",[a("code",[t._v("org.gradle.debug=(true,false)")])])]),t._v(" "),a("p",[t._v("设置为"),a("code",[t._v("true")]),t._v("时，Gradle将在启用远程调试的情况下运行构建，侦听端口"),a("code",[t._v("5005")]),t._v("。请注意，这等效于将"),a("code",[t._v("-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=5005")]),t._v("添加到JVM命令行，它将挂起虚拟机，直到连接了调试器。默认为"),a("code",[t._v("false")]),t._v("。")])]),t._v(" "),a("li",[a("p",[a("strong",[a("code",[t._v("org.gradle.java.home=(path to JDK home)")])])]),t._v(" "),a("p",[t._v("指定用于Gradle构建过程的Java目录。可以将值设置为"),a("code",[t._v("jdk")]),t._v("或"),a("code",[t._v("jre")]),t._v("位置，但是，根据您的构建方式，使用JDK更安全。如果未指定设置，则从您的环境（"),a("code",[t._v("JAVA_HOME")]),t._v("或"),a("code",[t._v("java")]),t._v("的路径）派生合理的默认值。这不会影响用于启动Gradle客户端VM的Java版本（"),a("a",{attrs:{href:"#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"}},[t._v("请参阅环境变量")]),t._v("）。")])]),t._v(" "),a("li",[a("p",[a("strong",[a("code",[t._v("org.gradle.jvmargs=(JVM arguments)")])])]),t._v(" "),a("p",[t._v("指定用于 "),a("strong",[t._v("Gradle Daemon")]),t._v(" 的JVM参数。该设置对于"),a("a",{attrs:{href:"#%E9%85%8D%E7%BD%AEjvm%E5%86%85%E5%AD%98"}},[t._v("配置JVM内存设置")]),t._v("以提高构建性能特别有用。这不会影响Gradle客户端VM的JVM设置。")])]),t._v(" "),a("li",[a("p",[a("strong",[a("code",[t._v("org.gradle.logging.level=(quiet,warn,lifecycle,info,debug)")])])]),t._v(" "),a("p",[t._v("当设置为"),a("code",[t._v("quiet")]),t._v(", "),a("code",[t._v("warn")]),t._v(", "),a("code",[t._v("lifecycle")]),t._v(", "),a("code",[t._v("info")]),t._v(", "),a("code",[t._v("debug")]),t._v("时，Gradle将使用此日志级别。这些值不区分大小写。"),a("code",[t._v("lifecycle")]),t._v("级别是"),a("strong",[t._v("默认级别")]),t._v("。请参阅"),a("a",{attrs:{href:"https://docs.gradle.org/current/userguide/logging.html#sec:choosing_a_log_level",target:"_blank",rel:"noopener noreferrer"}},[t._v("选择日志级别"),a("OutboundLink")],1),t._v("。")])]),t._v(" "),a("li",[a("p",[a("strong",[a("code",[t._v("org.gradle.parallel=(true,false)")])])]),t._v(" "),a("p",[t._v("配置后，Gradle将派生到"),a("code",[t._v("org.gradle.workers.max")]),t._v("JVM，以并行执行项目。要了解有关并行任务执行的更多信息，请参阅"),a("a",{attrs:{href:"https://guides.gradle.org/performance/#parallel_execution",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gradle性能指南"),a("OutboundLink")],1),t._v("。")])]),t._v(" "),a("li",[a("p",[a("strong",[a("code",[t._v("org.gradle.warning.mode=(all,none,summary)")])])]),t._v(" "),a("p",[t._v("当设置为"),a("code",[t._v("all")]),t._v(", "),a("code",[t._v("summary")]),t._v("或"),a("code",[t._v("none")]),t._v("时，Gradle将使用不同的警告类型显示。有关详细信息，请参见"),a("a",{attrs:{href:"https://docs.gradle.org/current/userguide/command_line_interface.html#sec:command_line_logging",target:"_blank",rel:"noopener noreferrer"}},[t._v("命令行日志记录选项"),a("OutboundLink")],1),t._v("。")])]),t._v(" "),a("li",[a("p",[a("strong",[a("code",[t._v("org.gradle.workers.max=(max # of worker processes)")])])]),t._v(" "),a("p",[t._v("配置后，Gradle将使用最多给定数量的处理器。默认值为CPU处理器数。另请参见"),a("a",{attrs:{href:"https://docs.gradle.org/current/userguide/command_line_interface.html#sec:command_line_performance",target:"_blank",rel:"noopener noreferrer"}},[t._v("性能命令行选项"),a("OutboundLink")],1),t._v("。")])]),t._v(" "),a("li",[a("p",[a("strong",[a("code",[t._v("org.gradle.priority=(low,normal)")])])]),t._v(" "),a("p",[t._v("指定 "),a("strong",[t._v("Gradle Daemon")]),t._v(" 及其启动的所有进程的调度优先级。默认为"),a("code",[t._v("normal")]),t._v("。另请参见"),a("a",{attrs:{href:"https://docs.gradle.org/current/userguide/command_line_interface.html#sec:command_line_performance",target:"_blank",rel:"noopener noreferrer"}},[t._v("性能命令行选项"),a("OutboundLink")],1),t._v("。")])])]),t._v(" "),a("p",[t._v("下面的示例演示各种属性的用法。")]),t._v(" "),a("p",[t._v("示例1.使用"),a("code",[t._v("gradle.properties")]),t._v("文件设置属性")]),t._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# gradle.properties")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("gradlePropertiesProp")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("gradlePropertiesValue")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("sysProp")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("shouldBeOverWrittenBySysProp")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("systemProp.system")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("systemValue")]),t._v("\n")])])]),a("CodeSwitcher",{attrs:{languages:{groovy:"Groovy",kotlin:"Kotlin"}},scopedSlots:t._u([{key:"groovy",fn:function(){return[a("div",{staticClass:"language-groovy extra-class"},[a("pre",{pre:!0,attrs:{class:"language-groovy"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// build.gradle")]),t._v("\n\ntask printProps "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    doLast "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        println commandLineProjectProp\n        println gradlePropertiesProp\n        println systemProjectProp\n        println System"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("properties"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'system'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]},proxy:!0},{key:"kotlin",fn:function(){return[a("div",{staticClass:"language-kotlin extra-class"},[a("pre",{pre:!0,attrs:{class:"language-kotlin"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// build.gradle.kts")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Project properties can be accessed via delegation")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" commandLineProjectProp"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("by")]),t._v(" project\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" gradlePropertiesProp"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("by")]),t._v(" project\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" systemProjectProp"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("by")]),t._v(" project\n\ntasks"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("register")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"printProps"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    doLast "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("commandLineProjectProp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("gradlePropertiesProp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("systemProjectProp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("System"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getProperty")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"system"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]},proxy:!0}])}),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("div",{staticClass:"highlight-lines"},[a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("$ gradle -q -PcommandLineProjectProp"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("commandLineProjectPropValue -Dorg.gradle.project.systemProjectProp"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("systemPropertyValue printProps\ncommandLineProjectPropValue\ngradlePropertiesValue\nsystemPropertyValue\nsystemValue\n")])])]),a("h2",{attrs:{id:"系统属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#系统属性","aria-hidden":"true"}},[t._v("#")]),t._v(" 系统属性")]),t._v(" "),a("p",[t._v("使用"),a("code",[t._v("-D")]),t._v("命令行选项，可以将系统属性传递给运行Gradle的JVM。 gradle命令的"),a("code",[t._v("-D")]),t._v("选项与"),a("code",[t._v("java")]),t._v("命令的"),a("code",[t._v("-D")]),t._v("选项具有相同的效果。")]),t._v(" "),a("p",[t._v("您还可以在"),a("code",[t._v("gradle.properties")]),t._v("文件中使用前缀"),a("code",[t._v("systemProp")]),t._v("设置系统属性。")]),t._v(" "),a("p",[a("strong",[t._v("在"),a("code",[t._v("gradle.properties")]),t._v("中指定系统属性")])]),t._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("systemProp.gradle.wrapperUser")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("myuser")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("systemProp.gradle.wrapperPassword")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("mypassword")]),t._v("\n")])])]),a("p",[t._v("以下系统属性可用。请注意，"),a("strong",[t._v("命令行选项优先于系统属性")]),t._v("。")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[a("code",[t._v("gradle.wrapperUser=(myuser)")])])]),t._v(" "),a("p",[t._v("指定用户名以使用HTTP基本认证从服务器下载Gradle发行版。在"),a("a",{attrs:{href:"https://docs.gradle.org/current/userguide/gradle_wrapper.html#sec:authenticated_download",target:"_blank",rel:"noopener noreferrer"}},[t._v("Authenticated wrapper下载"),a("OutboundLink")],1),t._v("中了解更多信息。")])]),t._v(" "),a("li",[a("p",[a("strong",[a("code",[t._v("gradle.wrapperPassword=(mypassword)")])])]),t._v(" "),a("p",[t._v("指定使用Gradle包装器下载Gradle发行版的密码。")])]),t._v(" "),a("li",[a("p",[a("strong",[a("code",[t._v("gradle.user.home=(path to directory)")])])]),t._v(" "),a("p",[t._v("指定Gradle用户的主目录。")])])]),t._v(" "),a("p",[t._v("在多项目构建中，将忽略除根目录以外的任何项目中设置的“"),a("code",[t._v("systemProp.")]),t._v("”属性。也就是说，将仅检查根项目的"),a("code",[t._v("gradle.properties")]),t._v("文件中以“"),a("code",[t._v("systemProp.")]),t._v("”前缀开头的属性。")]),t._v(" "),a("h2",{attrs:{id:"环境变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#环境变量","aria-hidden":"true"}},[t._v("#")]),t._v(" 环境变量")]),t._v(" "),a("p",[t._v("以下环境变量可用于"),a("code",[t._v("gradle")]),t._v("命令。请注意，"),a("strong",[t._v("命令行选项和系统属性优先于环境变量")]),t._v("。")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[a("code",[t._v("GRADLE_OPTS")])])]),t._v(" "),a("p",[t._v("指定启动Gradle客户端VM时要使用的JVM参数。客户端VM仅处理命令行输入/输出，因此很少需要更改其VM选项。实际的构建由 "),a("strong",[t._v("Gradle Daemon")]),t._v(" 运行，不受此环境变量的影响。")])]),t._v(" "),a("li",[a("p",[a("strong",[a("code",[t._v("GRADLE_USER_HOME")])])]),t._v(" "),a("p",[t._v("指定Gradle用户的主目录（如果未设置，则默认为"),a("code",[t._v("$USER_HOME/.gradle")]),t._v("）。")])]),t._v(" "),a("li",[a("p",[a("strong",[a("code",[t._v("JAVA_HOME")])])]),t._v(" "),a("p",[t._v("指定要用于客户端VM的JDK安装目录。除非在"),a("code",[t._v("org.gradle.java.home")]),t._v("的Gradle属性文件中指定了另一个虚拟机，否则此VM也用于守护进程。")])])]),t._v(" "),a("h2",{attrs:{id:"project属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#project属性","aria-hidden":"true"}},[t._v("#")]),t._v(" Project属性")]),t._v(" "),a("p",[t._v("您可以通过"),a("code",[t._v("-P")]),t._v("命令行选项将属性直接添加到"),a("a",{attrs:{href:"https://docs.gradle.org/current/dsl/org.gradle.api.Project.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Project"),a("OutboundLink")],1),t._v("对象。")]),t._v(" "),a("p",[t._v("当Gradle看到特别命名的系统属性或环境变量时，它也可以设置项目属性。如果环境变量名称看起来像"),a("code",[t._v("ORG_GRADLE_PROJECT_prop=somevalue")]),t._v("，则Gradle将在项目对象上设置"),a("code",[t._v("prop")]),t._v("属性，其值为"),a("code",[t._v("somevalue")]),t._v("。 Gradle也为系统属性支持此功能，但是具有不同的命名模式，类似于"),a("code",[t._v("org.gradle.project.prop")]),t._v("。以下两个都将Project对象上的"),a("code",[t._v("foo")]),t._v("属性设置为“"),a("code",[t._v("bar")]),t._v("”。")]),t._v(" "),a("p",[a("strong",[t._v("通过系统属性设置Project属性")])]),t._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("org.gradle.project.foo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("bar")]),t._v("\n")])])]),a("p",[a("strong",[t._v("通过环境变量设置Project属性")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("ORG_GRADLE_PROJECT_foo=bar\n")])])]),a("div",{staticClass:"tip custom-block"},[a("p",[a("strong",[t._v("用户主目录中的属性文件优先于Project目录中的属性文件。")])])]),t._v(" "),a("p",[t._v("如果您没有持续集成服务器的管理员权限，并且需要设置不容易看到的属性值，则此功能非常有用。由于您不能在那种情况下使用"),a("code",[t._v("-P")]),t._v("选项，也不能更改系统级配置文件，因此正确的策略是更改持续集成构建作业的配置，并添加与预期模式匹配的环境变量设置。这对于系统上的普通用户是不可见的。")]),t._v(" "),a("p",[t._v("您可以像使用变量一样使用名称来访问构建脚本中的Project属性。")]),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",[t._v("如果引用了Project属性但该属性不存在，则将引发异常，并且构建将失败。")]),t._v(" "),a("p",[t._v("在使用"),a("a",{attrs:{href:"https://docs.gradle.org/current/dsl/org.gradle.api.Project.html#org.gradle.api.Project:hasProperty(java.lang.String)",target:"_blank",rel:"noopener noreferrer"}},[t._v("Project.hasProperty(java.lang.String)"),a("OutboundLink")],1),t._v("方法访问可选Project属性之前，应检查其是否存在。")])]),t._v(" "),a("h2",{attrs:{id:"配置jvm内存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置jvm内存","aria-hidden":"true"}},[t._v("#")]),t._v(" 配置JVM内存")]),t._v(" "),a("p",[t._v("您可以通过以下方式调整Gradle的JVM选项：")]),t._v(" "),a("p",[a("code",[t._v("org.gradle.jvmargs")]),t._v("Gradle属性控制运行构建的VM。默认为"),a("code",[t._v('-Xmx512m "-XX:MaxMetaspaceSize=256m"')])]),t._v(" "),a("p",[a("strong",[t._v("更改构建VM的JVM设置")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("org.gradle.jvmargs=-Xmx2g -XX:MaxMetaspaceSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8\n")])])]),a("p",[a("code",[t._v("JAVA_OPTS")]),t._v("环境变量控制命令行客户端，该命令行客户端仅用于显示控制台输出。默认为"),a("code",[t._v("-Xmx64m")]),t._v("。")]),t._v(" "),a("p",[a("strong",[t._v("更改客户端VM的JVM设置")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('JAVA_OPTS="-Xmx64m -XX:MaxPermSize=64m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8"\n')])])]),a("div",{staticClass:"tip custom-block"},[a("p",[t._v("在一种情况下，客户端VM也可以用作构建VM：如果停用"),a("a",{attrs:{href:"https://docs.gradle.org/current/userguide/gradle_daemon.html#gradle_daemon",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gradle Daemon"),a("OutboundLink")],1),t._v("，并且客户端VM具有与构建VM所需的相同设置，则客户端VM将直接运行构建。否则，客户端虚拟机将派生一个新的虚拟机来运行实际的构建，以便采用不同的设置。")])]),t._v(" "),a("p",[t._v("某些任务（例如"),a("code",[t._v("test")]),t._v("任务）也会派生其他JVM进程。您可以通过任务本身来配置它们。它们默认都使用"),a("code",[t._v("-Xmx512m")]),t._v("。")]),t._v(" "),a("p",[t._v("示例2.为"),a("a",{attrs:{href:"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.compile.JavaCompile.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("JavaCompile"),a("OutboundLink")],1),t._v("任务设置Java编译选项")]),t._v(" "),a("CodeSwitcher",{attrs:{languages:{groovy:"Groovy",kotlin:"Kotlin"}},scopedSlots:t._u([{key:"groovy",fn:function(){return[a("div",{staticClass:"language-groovy extra-class"},[a("pre",{pre:!0,attrs:{class:"language-groovy"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// build.gradle")]),t._v("\n\nplugins "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    id "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'java'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\ntasks"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("withType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("JavaCompile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    options"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("compilerArgs "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'-Xdoclint:none'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'-Xlint:none'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'-nowarn'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]},proxy:!0},{key:"kotlin",fn:function(){return[a("div",{staticClass:"language-kotlin extra-class"},[a("pre",{pre:!0,attrs:{class:"language-kotlin"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// build.gradle.kts")]),t._v("\n\nplugins "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    java\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\ntasks"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("withType"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("JavaCompile"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("configureEach")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("compilerArgs "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("listOf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-Xdoclint:none"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-Xlint:none"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-nowarn"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]},proxy:!0}])}),t._v(" "),a("p",[t._v("请参阅"),a("a",{attrs:{href:"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.testing.Test.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Test"),a("OutboundLink")],1),t._v(" API文档中的其他示例，以及"),a("a",{attrs:{href:"https://docs.gradle.org/current/userguide/java_testing.html#sec:test_execution",target:"_blank",rel:"noopener noreferrer"}},[t._v("Java插件参考中的测试执行"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("p",[t._v("使用"),a("code",[t._v("--scan")]),t._v("选项时，"),a("a",{attrs:{href:"https://scans.gradle.com/?_ga=2.61875884.1480847771.1569235223-1279986108.1569235223",target:"_blank",rel:"noopener noreferrer"}},[t._v("Build scans"),a("OutboundLink")],1),t._v("将告诉您有关执行构建的JVM的信息。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://docs.gradle.org/current/userguide/img/build-scan-infrastructure.png",alt:""}})]),t._v(" "),a("h2",{attrs:{id:"使用project属性配置任务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用project属性配置任务","aria-hidden":"true"}},[t._v("#")]),t._v(" 使用Project属性配置任务")]),t._v(" "),a("p",[t._v("可以根据调用时指定的项目属性来更改任务的行为。")]),t._v(" "),a("p",[t._v("假设您想确保发布版本仅由CI触发。一种简单的方法是通过"),a("code",[t._v("isCI")]),t._v("项目属性。")]),t._v(" "),a("p",[t._v("例子3.防止CI外部发布")]),t._v(" "),a("CodeSwitcher",{attrs:{languages:{groovy:"Groovy",kotlin:"Kotlin"}},scopedSlots:t._u([{key:"groovy",fn:function(){return[a("div",{staticClass:"language-groovy extra-class"},[a("pre",{pre:!0,attrs:{class:"language-groovy"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// build.gradle")]),t._v("\n\ntask performRelease "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    doLast "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("project"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasProperty")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"isCI"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"Performing release actions"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InvalidUserDataException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"Cannot perform release outside of CI"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]},proxy:!0},{key:"kotlin",fn:function(){return[a("div",{staticClass:"language-kotlin extra-class"},[a("pre",{pre:!0,attrs:{class:"language-kotlin"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// build.gradle.kts")]),t._v("\n\ntasks"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("register")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"performRelease"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    doLast "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("project"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasProperty")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"isCI"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Performing release actions"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("InvalidUserDataException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Cannot perform release outside of CI"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]},proxy:!0}])}),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("div",{staticClass:"highlight-lines"},[a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("$ gradle performRelease -PisCI"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("true --quiet\nPerforming release actions\n")])])]),a("h2",{attrs:{id:"通过http代理访问web"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#通过http代理访问web","aria-hidden":"true"}},[t._v("#")]),t._v(" 通过HTTP代理访问web")]),t._v(" "),a("p",[t._v("通过标准JVM系统属性来配置HTTP或HTTPS代理（例如，用于下载依赖项）。这些属性可以直接在构建脚本中设置。例如，设置HTTP代理主机将通过"),a("code",[t._v("System.setProperty('http.proxyHost', 'www.somehost.org')")]),t._v("完成。另外，可以"),a("a",{attrs:{href:"#gradle%E5%B1%9E%E6%80%A7"}},[t._v("在gradle.properties中指定属性")]),t._v("。")]),t._v(" "),a("p",[a("strong",[t._v("使用"),a("code",[t._v("gradle.properties")]),t._v("配置HTTP代理")])]),t._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("systemProp.http.proxyHost")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("www.somehost.org")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("systemProp.http.proxyPort")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("8080")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("systemProp.http.proxyUser")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("userid")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("systemProp.http.proxyPassword")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("password")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("systemProp.http.nonProxyHosts")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("*.nonproxyrepos.com|localhost")]),t._v("\n")])])]),a("p",[t._v("HTTPS有单独的设置。")]),t._v(" "),a("p",[a("strong",[t._v("使用"),a("code",[t._v("gradle.properties")]),t._v("配置HTTPS代理")])]),t._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("systemProp.https.proxyHost")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("www.somehost.org")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("systemProp.https.proxyPort")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("8080")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("systemProp.https.proxyUser")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("userid")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("systemProp.https.proxyPassword")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("password")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("systemProp.https.nonProxyHosts")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("*.nonproxyrepos.com|localhost")]),t._v("\n")])])]),a("p",[t._v("您可能需要设置其他属性才能访问其他网络。这里有2个参考可能会有所帮助：")]),t._v(" "),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"https://git-wip-us.apache.org/repos/asf?p=ant.git;a=blob;f=src/main/org/apache/tools/ant/util/ProxySetup.java;hb=HEAD",target:"_blank",rel:"noopener noreferrer"}},[t._v("ProxySetup.java in the Ant codebase"),a("OutboundLink")],1)])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"http://download.oracle.com/javase/7/docs/technotes/guides/net/properties.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("JDK 7 Networking Properties"),a("OutboundLink")],1)])])]),t._v(" "),a("h3",{attrs:{id:"ntlm身份验证"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ntlm身份验证","aria-hidden":"true"}},[t._v("#")]),t._v(" NTLM身份验证")]),t._v(" "),a("p",[t._v("如果您的代理服务器需要NTLM身份验证，则可能需要提供身份验证域以及用户名和密码。您可以通过两种方式提供用于向NTLM代理进行身份验证的域：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("将"),a("code",[t._v("http.proxyUser")]),t._v("系统属性设置为"),a("code",[t._v("domain/username")]),t._v("之类的值。")])]),t._v(" "),a("li",[a("p",[t._v("通过"),a("code",[t._v("http.auth.ntlm.domain")]),t._v("系统属性提供身份验证域。")])])])],1)}),[],!1,null,null,null);e.default=s.exports}}]);